<div *ngIf="events$ | async as events; else empty">
  <div class="ui-g ui-fluid">
    <form [formGroup]="searchForm">
      <div class="ui-g-6">
        <p-calendar selectionMode="range" placeholder="Please select a range of dates" dateFormat="yy-mm-dd"
          showWeek="true" monthNavigator="true" yearNavigator="true" yearRange="1970:2030" formControlName="dateRange">
        </p-calendar>
      </div>
      <div class="ui-g-6">
        <button class="pull-right" type="submit" (click)="onSubmit()">Search</button>
        <button class="pull-right" type="reset" (click)="reset()">Reset</button>
      </div>
    </form>
  </div>
  <div>
    <p-table [value]="events$ | async" [paginator]="true" [rows]="25">
      <ng-template pTemplate="header">
        <tr>
          <th class="pull-left">DATE</th>
          <th class="pull-left">TYPE</th>
          <th class="pull-left">SIZE</th>
          <th class="pull-left">SUMMARY</th>
          <th class="pull-left">Details</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-event>
        <tr>
          <td>{{event.date}}</td>
          <td>{{event.type}}</td>
          <td>{{event.size}}</td>
          <td>{{event.summary}}</td>
          <td>
            <a [routerLink]="['/events', event.id]">Details</a>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
<ng-template #empty>
    <div class="loading">Loading&#8230;</div>
</ng-template>